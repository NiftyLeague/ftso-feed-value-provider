# =============================================================================
# FTSO Feed Value Provider - Environment Configuration
# =============================================================================
# Copy this file to .env and configure the values for your environment
# See src/config/environment-variables.md for detailed documentation

# =============================================================================
# Core Application Settings
# =============================================================================

# Log level - controls application logging verbosity
# Valid values: error, warn, log, debug, verbose
LOG_LEVEL=log

# HTTP server port
VALUE_PROVIDER_CLIENT_PORT=3101

# Base path for API endpoints (optional)
VALUE_PROVIDER_CLIENT_BASE_PATH=""

# Node.js environment mode
NODE_ENV=development

# =============================================================================
# Data Processing Settings
# =============================================================================

# Exponential decay factor for weighted median calculation
MEDIAN_DECAY=0.00005

# Number of trades to fetch per batch from exchanges
TRADES_HISTORY_SIZE=1000

# =============================================================================
# Email Alerting Configuration
# =============================================================================

# Enable email alerting
ALERT_EMAIL_ENABLED=false

# SMTP server configuration (required if email alerting is enabled)
ALERT_SMTP_HOST=localhost
ALERT_SMTP_PORT=587
ALERT_SMTP_USERNAME=""
ALERT_SMTP_PASSWORD=""

# Email addresses for alerts
ALERT_EMAIL_FROM="alerts@niftyleague.com"
ALERT_EMAIL_TO="andy@niftyleague.com"

# =============================================================================
# Webhook Alerting Configuration
# =============================================================================

# Enable webhook alerting
ALERT_WEBHOOK_ENABLED=false

# Webhook configuration (required if webhook alerting is enabled)
ALERT_WEBHOOK_URL=""
ALERT_WEBHOOK_HEADERS={}
ALERT_WEBHOOK_TIMEOUT=5000

# =============================================================================
# General Alerting Settings
# =============================================================================

# Maximum alerts per hour and retention
ALERT_MAX_PER_HOUR=10
ALERT_RETENTION_DAYS=30

# =============================================================================
# Exchange API Keys
# =============================================================================
# Configure API keys for exchanges that require authentication
# Pattern: {EXCHANGE}_API_KEY, {EXCHANGE}_SECRET, {EXCHANGE}_PASSPHRASE

# Binance
BINANCE_API_KEY=""
BINANCE_SECRET=""
BINANCE_SANDBOX=false

# Coinbase
COINBASE_API_KEY=""
COINBASE_SECRET=""
COINBASE_SANDBOX=false

# Kraken (Not needed for public API)
KRAKEN_API_KEY=""
KRAKEN_SECRET=""
KRAKEN_SANDBOX=false

# OKX
OKX_API_KEY=""
OKX_SECRET=""
OKX_PASSPHRASE=""
OKX_SANDBOX=false

# Crypto.com
CRYPTOCOM_API_KEY=""
CRYPTOCOM_SECRET=""
CRYPTOCOM_SANDBOX=false

# Add other exchanges as needed...

# =============================================================================
# Cache Configuration
# =============================================================================

# Cache time-to-live in milliseconds
CACHE_TTL_MS=1000

# Maximum number of cache entries
CACHE_MAX_ENTRIES=10000

# Cache warmup interval in milliseconds
CACHE_WARMUP_INTERVAL_MS=30000

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Enable monitoring services
MONITORING_ENABLED=true

# Port for metrics endpoint (must be different from main port)
MONITORING_METRICS_PORT=9090

# Health check interval in milliseconds
MONITORING_HEALTH_CHECK_INTERVAL_MS=5000

# =============================================================================
# Error Handling Configuration
# =============================================================================

# Maximum retry attempts for failed operations
ERROR_HANDLING_MAX_RETRIES=3

# Delay between retry attempts in milliseconds
ERROR_HANDLING_RETRY_DELAY_MS=1000

# Circuit breaker configuration
ERROR_HANDLING_CIRCUIT_BREAKER_THRESHOLD=5
ERROR_HANDLING_CIRCUIT_BREAKER_TIMEOUT_MS=60000

# =============================================================================
# Application Startup and Health Check Configuration
# =============================================================================

# Graceful shutdown timeout in milliseconds
GRACEFUL_SHUTDOWN_TIMEOUT_MS=30000

# Application readiness timeout in milliseconds
APP_READINESS_TIMEOUT_MS=30000

# Health check response timeout in milliseconds
HEALTH_CHECK_TIMEOUT_MS=5000

# Minimum startup time before marking as ready (milliseconds)
MIN_STARTUP_TIME_MS=5000

# Rate limiting configuration
RATE_LIMIT_MAX_REQUESTS=1000
